# Tramp protocol

Tramp is not documented anywhere â€“ its documentation is the code, e.g. in betaflight and other flight controller firmwares. I started out by just copying betaflights tramp resources, but this is not really how I wanna keep it, as the structure of betaflight is pretty different. So I asked ChatGPT to summarize the code for me so I could cleanly reimplement it.

## Notes regarding the PDF

The accompanying PDF was generated by ChatGPT to summarize the Betaflight implementation into a human-readable form (GPT-5, free tier, Deep Research). It is pretty certainly not 100% correct, as I needed multiple attempts to get something remotely useful (I think for example the 0x52 capital R is incorrect, but for now it seems to be somewhat ok).

### How I queried ChatGPT

Used prompt: I want to implement the IRC Tramp protocol on my own FC but the resources are really sparse. Can you find as much information as possible from the Betaflight implementation (see on GitHub) and tell me how the protocol works? I am specifically looking for - What serial options, e.g. speed, stop bits etc. are used in Betaflight (should be 9600 baud, halfduplex serial with push-pull config) - What is the scheme (request-response?)? - How is a command assembled (type, length, data, checksum?)? - What commands exist and how is the data of each command structured, e.g. LUTs for channels and power levels (if they exist and if they are common for all VTXs)? There are probably commands for channel (ch + band), direct frequency, power, pit mode, and maybe getting the current config? Is a ping needed? Betaflight's PR no 2106 might be a good starting point, because the files of this PR include the changes necessary for Tramp.

Upon ChatGPT's request: 1. I want to implement it on my FC manually, meaning I need to know what data is being sent (packets, and their contents such as headers, data etc.). I am not interested in C/C++ source code as I will implement it myself. I need a good human-readable writeup. 2. You should keep the results general, I can handle the HAL and other operations myself. I only need the specification of the protocol. 3. They should operate identically, because it's a generic protocol. The FC cannot query the Tramp VTX model.

## More notes

Some additional notes from my side

-   An (my) unpowered VTX seems to output a continuous LOW, despite using the integrated pullup resistor in the RP2350. This currently leads to a bunch of discarded bytes, but is deemed ok
-   The response to the 'r' query starts roughly 35ms after the request was finished (sample size 1 lol)
